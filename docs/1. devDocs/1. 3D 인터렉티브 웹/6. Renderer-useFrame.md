# 6. Renderer - useFrame

### ğŸ”¹ React Three Fiberì—ì„œ ë Œë”ë§ ìµœì í™”

ìœ„ ì½”ë“œë¥¼ **React Three Fiber**ì—ì„œëŠ” ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ `hook`ì„ ì œê³µí•œë‹¤.

- `useThree()`

  - ğŸ“Œ [ê³µì‹ ë¬¸ì„œ](https://r3f.docs.pmnd.rs/api/hooks)
  - `Canvas`ë¥¼ í¬í•¨í•˜ëŠ” ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , **ê·¸ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥**
  - `size`, `gl`, `scene`, `camera` ë“±ì˜ ì •ë³´ë¥¼ ì œê³µ

- `useFrame()`
  - ë§¤ í”„ë ˆì„ë§ˆë‹¤ í˜¸ì¶œë˜ì–´ **Objectì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸**í•˜ëŠ” ì—­í• 
  - `delta` ê°’ì„ ì´ìš©í•´ ì‹œê°„ì— ë”°ë¼ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì ìš© ê°€ëŠ¥

---

## ğŸ­ 3D Scene ê°œë…

Sceneì„ êµ¬ì„±í•œ í›„, ë‹¤ì–‘í•œ **íŠ¹ìˆ˜ íš¨ê³¼**ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

![3D Object Shearling](../../0.%20img/3D_Object_Shearling.png)  
ìœ„ìª½ì´ `Yì¶•(+)`, `Zì¶•(+)`, `Xì¶•(+)` ë°©í–¥ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### ğŸ“Œ Objectë¥¼ ì›€ì§ì´ëŠ” ë°©ë²•

1. **ì¹´ë©”ë¼ë¥¼ ì´ë™**í•˜ì—¬ ë‹¤ë¥¸ ê°ë„ì—ì„œ ë°”ë¼ë³´ê¸°
2. **Object ìì²´ë¥¼ ì´ë™**í•˜ì—¬ ìœ„ì¹˜ ë³€ê²½
3. **Zoom ê¸°ëŠ¥ í™œìš©**í•˜ì—¬ Object í™•ëŒ€/ì¶•ì†Œ

![ì¹´ë©”ë¼ í¬ì§€ì…˜ì— ë”°ë¥¸ Object ì´¬ì˜](../../0.%20img/camera_position.png)

---

## ğŸ¯ React Three Fiberë¡œ 3D ì˜¤ë¸Œì íŠ¸ ì¡°ì‘í•˜ê¸°

- `useRef()`ë¥¼ ì‚¬ìš©í•´ re-rendering í›„ì—ë„ Object ìƒíƒœë¥¼ ìœ ì§€
- `useFrame()`ì„ í™œìš©í•´ Objectì— ì§€ì†ì ì¸ ë³€í™”ë¥¼ ì ìš©

### ğŸ›  ì‹¤ìŠµ ì˜ˆì œ

```tsx
import { useFrame, useThree } from "@react-three/fiber";
import * as Three from "three";
import { useRef } from "react";

export default function ThreeElement() {
  const { size, gl, scene, camera } = useThree();
  const boxRef = useRef<Three.Mesh>(null);

  console.log(`size: ${JSON.stringify(size)}`);
  console.log(`gl: ${Object.keys(gl)}`);
  console.log(`scene: ${JSON.stringify(scene)}`);
  console.log(`camera: ${JSON.stringify(camera)}`);

  useFrame((state, delta) => {
    console.log("state:", state);
    console.log("delta:", delta);
    console.log(`boxRef: ${boxRef.current}`);

    // Object ì• ë‹ˆë©”ì´ì…˜ ì ìš©
    if (boxRef.current) {
      boxRef.current.rotation.x += delta;
      boxRef.current.position.y += 0.01;
      boxRef.current.scale.z += 0.01;
    }
  });

  return (
    <>
      <directionalLight position={[5, 5, 5]} />
      <mesh
        ref={boxRef}
        rotation={[
          Three.MathUtils.degToRad(45),
          Three.MathUtils.degToRad(45),
          0,
        ]}
      >
        <boxGeometry />
        <meshStandardMaterial color="red" />
      </mesh>
    </>
  );
}
```

---

### âœ… ì •ë¦¬

- `Scene`, `Camera`, `Renderer`ëŠ” 3Dì˜ í•µì‹¬ ìš”ì†Œ
- `useThree()`, `useFrame()`ì„ í™œìš©í•˜ë©´ React Three Fiberì—ì„œ ì†ì‰½ê²Œ ì• ë‹ˆë©”ì´ì…˜ ì ìš© ê°€ëŠ¥
- `useRef()`ë¥¼ ì‚¬ìš©í•´ Object ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ , `useFrame()`ì—ì„œ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸

---
