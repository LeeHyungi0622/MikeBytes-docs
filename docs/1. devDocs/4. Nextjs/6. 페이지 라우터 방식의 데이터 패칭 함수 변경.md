# 6. `get{...}props` í•¨ìˆ˜ ì‚¬ìš© ì˜ì—­ ë³€ê²½

### **`getStaticProps`ê°€ `app/` ë””ë ‰í† ë¦¬ì—ì„œ ì§€ì›ë˜ì§€ ì•ŠëŠ” ì´ìœ **

Next.js 13ë¶€í„° **`app/` ë””ë ‰í† ë¦¬ëŠ” App Router**(ì„œë²„ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜)ë¥¼ ì‚¬ìš©í•˜ë©°, **`getStaticProps`, `getServerSideProps` ê°™ì€ ê¸°ì¡´ Page Router ë°©ì‹ì˜ ë°ì´í„° íŒ¨ì¹­ í•¨ìˆ˜ëŠ” ì§€ì›ë˜ì§€ ì•ŠìŒ**.

ì¦‰, **`app/` ë””ë ‰í† ë¦¬ì—ì„œëŠ” `getStaticProps`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ**.

---

### **í•´ê²° ë°©ë²•: `generateStaticParams`ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨**

`getStaticProps` ëŒ€ì‹  **Next.js 13+ì—ì„œ SSG(ì •ì  ìƒì„±)ë¥¼ ì ìš©í•˜ë ¤ë©´ `generateStaticParams`ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨**.

**ìˆ˜ì • ì½”ë“œ (`page.tsx`)**

```tsx
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

// SSGë¥¼ ìœ„í•œ generateStaticParams ì‚¬ìš©
export async function generateStaticParams() {
  const todos = await prisma.todo.findMany();
  return todos.map((todo) => ({ id: todo.id.toString() }));
}

// ì •ì  ë Œë”ë§ì„ ìœ„í•œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
export default async function TodoPage() {
  const todos = await prisma.todo.findMany();

  return (
    <div>
      <h1>í•  ì¼ ëª©ë¡</h1>
      <ul>
        {todos.map((todo) => (
          <li key={todo.id}>{todo.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

### ** `generateStaticParams`ë€?**

- **Page Routerì˜ `getStaticProps + getStaticPaths`ë¥¼ ëŒ€ì²´**í•˜ëŠ” í•¨ìˆ˜
- ì •ì  í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ìƒì„±í•  ë•Œ ì‚¬ìš©ë¨
- **App Routerì—ì„œëŠ” `generateStaticParams`ë§Œ ì‚¬ìš© ê°€ëŠ¥**

**ì°¨ì´ì  ì •ë¦¬**
| ê¸°ëŠ¥ | Page Router (ê¸°ì¡´ `pages/`) | App Router (í˜„ì¬ `app/`) |
|------|-----------------|-----------------|
| **SSG (ì •ì  ìƒì„±)** | `getStaticProps` | X ì§€ì› ì•ˆ ë¨ |
| **ISR (ì¬ìƒì„± ê°€ëŠ¥ SSG)** | `getStaticProps` + `revalidate` | `fetch(..., { next: { revalidate: 10 } })` |
| **SSGì—ì„œ ë™ì  ê²½ë¡œ** | `getStaticPaths` | `generateStaticParams` |

---

### **Next.js 13+ì—ì„œ SSGë¥¼ ì ìš©í•˜ëŠ” ë°©ë²• (ì •ë¦¬)**

1. **ì •ì  ê²½ë¡œë¥¼ ë¯¸ë¦¬ ìƒì„±**í•  ê²½ìš° â†’ `generateStaticParams` ì‚¬ìš©
2. **ì •ì  í˜ì´ì§€ë¥¼ ì¼ì • ì£¼ê¸°ë¡œ ì—…ë°ì´íŠ¸(ISR)** â†’ `fetch(..., { next: { revalidate: 10 } })` ì‚¬ìš©

**ISR ì ìš© ì½”ë“œ**

```tsx
export default async function TodoPage() {
  const todos = await fetch("https://api.example.com/todos", {
    next: { revalidate: 10 }, // 10ì´ˆë§ˆë‹¤ ISR ì ìš©
  }).then((res) => res.json());

  return (
    <div>
      <h1>í•  ì¼ ëª©ë¡</h1>
      <ul>
        {todos.map((todo) => (
          <li key={todo.id}>{todo.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

### **ê²°ë¡ **

- **`app/` ë””ë ‰í† ë¦¬ì—ì„œëŠ” `getStaticProps`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ!**
- **ëŒ€ì‹  `generateStaticParams`ì™€ ISR(`revalidate`)ì„ í™œìš©í•´ì•¼ í•¨.**

### Next.js 13 ì´í›„ë¶€í„° í´ë” êµ¬ì¡°

`getStaticProps`ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ **`app/` ë””ë ‰í† ë¦¬ ëŒ€ì‹  `pages/` ë””ë ‰í† ë¦¬ì—ì„œ ì‚¬ìš©í•´ì•¼ í•´**.

---

### **í•´ê²° ë°©ë²•: `pages/` ë””ë ‰í† ë¦¬ì—ì„œ `getStaticProps` ì‚¬ìš©í•˜ê¸°**

Next.jsì—ì„œ `app/` ë””ë ‰í† ë¦¬ëŠ” **App Router (ì„œë²„ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜)**,  
`pages/` ë””ë ‰í† ë¦¬ëŠ” **Page Router (ê¸°ì¡´ ë°©ì‹, `getStaticProps` ì§€ì›)**

**í”„ë¡œì íŠ¸ êµ¬ì¡° ë³€ê²½ ì˜ˆì‹œ**

```
src/
 â”œâ”€â”€ pages/ (O getStaticProps ì‚¬ìš© ê°€ëŠ¥)
 â”‚   â”œâ”€â”€ todos/
 â”‚   â”‚   â”œâ”€â”€ ssg.tsx (O getStaticProps ì‚¬ìš©)
 â”‚   â”œâ”€â”€ index.tsx
 â”‚   â”œâ”€â”€ _app.tsx
 â”‚   â”œâ”€â”€ _document.tsx
 â”œâ”€â”€ app/  (X getStaticProps ì‚¬ìš© ë¶ˆê°€)
 â”‚   â”œâ”€â”€ todos/
 â”‚   â”‚   â”œâ”€â”€ page.tsx  (X getStaticProps ì‚¬ìš© ë¶ˆê°€)
```

---

### **ğŸš€ `pages/`ì—ì„œ `getStaticProps` ì ìš© ì½”ë“œ**

```tsx
// getStaticPropsë¥¼ ì‚¬ìš©í•  ê²½ìš°, pages/ ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì„±
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

export async function getStaticProps() {
  const todos = await prisma.todo.findMany();
  return { props: { todos }, revalidate: 10 }; // ISR ì ìš© ê°€ëŠ¥
}

export default function TodoPage({ todos }) {
  return (
    <div>
      <h1>í•  ì¼ ëª©ë¡</h1>
      <ul>
        {todos.map((todo) => (
          <li key={todo.id}>{todo.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

### **ê·¸ë ‡ë‹¤ë©´ `app/`ê³¼ `pages/`ë¥¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ?**

**ê°€ëŠ¥í•¨!**  
Next.js 13+ì—ì„œëŠ” **`app/`ê³¼ `pages/`ë¥¼ ë™ì‹œì— ì‚¬ìš© ê°€ëŠ¥**  
ë‹¨, **ë¼ìš°íŒ… ì¶©ëŒì„ í”¼í•˜ë ¤ë©´ `pages/`ì™€ `app/`ì—ì„œ ê°™ì€ ê²½ë¡œë¥¼ ë§Œë“¤ë©´ ì•ˆ ë¨!**

**ì¶”ì²œí•˜ëŠ” ë°©ì‹**

- `app/` â†’ **ì‹ ê·œ í˜ì´ì§€ ê°œë°œ (App Router, ì„œë²„ ì»´í¬ë„ŒíŠ¸)**
- `pages/` â†’ **ê¸°ì¡´ ë°©ì‹ ìœ ì§€ (Page Router, `getStaticProps` í•„ìš”í•  ë•Œ)**

---

### **ê²°ë¡ **

X `app/`ì—ì„œëŠ” `getStaticProps` ì‚¬ìš© ë¶ˆê°€  
O **`pages/` ë””ë ‰í† ë¦¬ì—ì„œ `getStaticProps`ë¥¼ ì‚¬ìš©í•˜ë©´ ì •ìƒ ë™ì‘!**  
O `app/`ê³¼ `pages/`ë¥¼ ë™ì‹œì— ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, ê°™ì€ ê²½ë¡œ ì¶©ëŒ ì£¼ì˜ ğŸš€
